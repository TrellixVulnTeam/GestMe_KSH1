#:kivy 1.8.0
<HomeWindow>:
    id: main_win
    orientation: 'vertical'
    spacing: 10
    space_x: self.size[0]/3
    
    canvas.before:
        Color: 
            rgba: root.consts().COLOR_APP[0]
        
        Rectangle:
            size: self.size
            pos: self.pos

    BoxLayout:
        orientation:'vertical'

        BoxLayout:
            size_hint_y: None
            height: 100
            
            canvas.before:
                Color: 
                    rgba: root.consts().COLOR_APP[0]
                
                Rectangle:
                    size: self.size
                    pos: self.pos
            
            Label:
                text:'GestMe'
                bold: True
                size_hint_x: 0.9
                color: root.consts().COLOR_APP[1]
                font_size: '70dp'

            HoverButton:
                size_hint_x: 0.1
                text: 'Log Out'
                font_size: 10
                background_color: root.consts().COLOR_APP[0]
                background_normal: ''
                on_release: root.logout()
                
        BoxLayout:
            id:cont_box
            
            TabbedPanel:
                id:tabs_home
                do_default_tab: False
                background_color: root.consts().COLOR_APP[1]
                tab_width: self.size[0] / 2
                tab_pos:'top_mid'

                canvas:
                    Color:
                        rgb: root.consts().COLOR_APP[0]
                    Rectangle:
                        size: self.size
                        pos: self.pos

                TabbedPanelItem:
                    id:tb_home
                    background_color: root.consts().COLOR_APP[1]
                    background_down: ''
                    text:'Home'

                    AnchorLayout:
                        anchor_x: 'center'
                        anchor_y: 'top'

                        BoxLayout:
                            size_hint:(1, 1)
                            orientation:'vertical'
                            size_hint_min: (800,600)
                            size_hint_max: (800,600)
                            padding: 10

                            GridLayout:
                                rows:2

                                BoxLayout:
                                    orientation:'horizontal'
                                    padding: 30

                                    AnchorLayout:
                                        anchor_x: 'left'
                                        anchor_y: 'center'
                                    
                                        Image:
                                            id: avatar_img
                                            source: root.avatar 
                                            size_hint_x: None
                                            width: 200
                                    
                                    BoxLayout:
                                        orientation:'vertical'    
                                            
                                        Label:
                                            id: name_label
                                            text: ''
                                            font_size: 30
                                        
                                        AnchorLayout:
                                            anchor_x: 'left'
                                            anchor_y: 'center'

                                            Label:
                                                id: info_label
                                                text: ''
                                                size_hint_x: 0.7
                                                size_hint_y: None
                                                font_size: 18

                                        BoxLayout:
                                            orientation:'horizontal'

                                            HoverButton:
                                                text:'Update Profile'
                                                background_color: root.consts().COLOR_MAIN[0]
                                                on_release: root.redirect_app_uperfil()
                                            
                                            HoverButton:
                                                text:'Show favorites'
                                                background_color: root.consts().COLOR_MAIN[0]
                                            
                                BoxLayout:
                                    orientation:'horizontal'
                                    padding: 30

                                    GridLayout:
                                        cols:3

                                        AnchorLayout:
                                            anchor_x: 'left'
                                            anchor_y: 'top'
                                                
                                            Label:
                                                size_hint: (None, None)
                                                text:'Latest rated content'
                                                font_size: 22
                                            
                                        BoxLayout:
                                            orientation:'horizontal'
                                            
                                            AnchorLayout:
                                                anchor_x: 'left'
                                                anchor_y: 'center'

                                                ImageButton:
                                                    id: last_content_image
                                                    source: root.default_image
                                                    size_hint_y: None
                                                    height: dp(200)

                                        BoxLayout:
                                            orientation:'vertical' 
                                            
                                            Label:
                                                id: last_content_info
                                                text: ''
                                                color: root.consts().COLOR_MAIN[0]

                                            
                # TabbedPanelItem:
                #     id:tb_movies
                #     background_color: root.consts().COLOR_APP[1]
                #     background_down: ""
                #     # text:'Movies'
                    
                # TabbedPanelItem:
                #     id:tb_books
                #     background_color: root.consts().COLOR_APP[1]
                #     background_down: ""
                #     # background_normal: ""

        